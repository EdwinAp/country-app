import{A as g,B as L,C as w,D as M,E as O,F as X,G as I,H as h,I as N,J as Y,K as Z,L as ee,O as te,Q as ie,R as ne,S as q,W as j,X as _,Z as oe,a as U,b as V,c as A,d as z,e as v,f as J,g as P,h as G,i as d,j as R,k as K,l as Q,m as B,n as l,o as f,p as u,q as c,r,s as o,t as m,u as W,v as b,w as C,x as F,y as s,z as S}from"./chunk-JCXBWQ2B.js";var y=(()=>{let e=class e{constructor(i){this.httpClient=i,this.apitUrl="https://restcountries.com/v3.1",this.keyItem="cacheStore",this.catchStore={byCapital:{term:"",countries:[]},byCountries:{term:"",countries:[]},byRegion:{term:"",countries:[]}},this.loadFromLocalStorage()}saveToLocalStorage(){localStorage.setItem(this.keyItem,JSON.stringify(this.catchStore))}loadFromLocalStorage(){localStorage.getItem(this.keyItem)&&(this.catchStore=JSON.parse(localStorage.getItem(this.keyItem)))}getCountriesRequest(i){return this.httpClient.get(i).pipe(A(n=>(console.log(n),U([]))))}searchCountryAlphaCode(i){return this.httpClient.get(`${this.apitUrl}/alpha/${i}`).pipe(V(n=>n.length>0?n[0]:void 0),A(()=>U(void 0)))}searchCapital(i){return this.getCountriesRequest(`${this.apitUrl}/capital/${i}`).pipe(v(n=>this.catchStore.byCapital={term:i,countries:n}),v(()=>this.saveToLocalStorage()))}searchRegion(i){return this.getCountriesRequest(`${this.apitUrl}/region/${i}`).pipe(v(n=>this.catchStore.byRegion={term:i,countries:n}),v(()=>this.saveToLocalStorage()))}searchCountry(i){return this.getCountriesRequest(`${this.apitUrl}/name/${i}`).pipe(v(n=>this.catchStore.byCountries={term:i,countries:n}),v(()=>this.saveToLocalStorage()))}};e.\u0275fac=function(n){return new(n||e)(G(Z))},e.\u0275prov=J({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ue=t=>["/countries/by",t];function de(t,e){t&1&&(r(0,"div",2),s(1,` No hay paises
`),o())}function fe(t,e){if(t&1&&(r(0,"tr")(1,"td"),s(2),o(),r(3,"td"),s(4),o(),r(5,"td"),m(6,"img",5),o(),r(7,"td"),s(8),o(),r(9,"td"),s(10),o(),r(11,"td"),s(12),w(13,"number"),o(),r(14,"td")(15,"a",6),s(16,"Ver mas"),o()()()),t&2){let p=e.$implicit,i=e.index;l(2),S(i+1),l(2),g(" ",p.flag," "),l(2),c("src",p.flags.svg,B)("alt",p.flags.alt),l(2),S(p.name.common),l(2),g(" ",p.capital," "),l(2),S(M(13,8,p.population)),l(3),c("routerLink",L(10,ue,p.cca3))}}function ge(t,e){if(t&1&&(r(0,"table",3)(1,"thead")(2,"tr")(3,"th"),s(4,"#"),o(),r(5,"th"),s(6,"Icono"),o(),r(7,"th"),s(8,"Bandera"),o(),r(9,"th"),s(10,"Nombre"),o(),r(11,"th"),s(12,"Capital"),o(),r(13,"th"),s(14,"Poblacion"),o(),r(15,"th"),s(16,"Mas detalles"),o()()(),r(17,"tbody"),u(18,fe,17,12,"tr",4),o()()),t&2){let p=C();l(18),c("ngForOf",p.countries)}}var E=(()=>{let e=class e{constructor(){this.countries=[]}ngOnInit(){}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=d({type:e,selectors:[["countries-country-table"]],inputs:{countries:"countries"},decls:3,vars:2,consts:[["table",""],["class","alert alert-warning",4,"ngIf","ngIfElse"],[1,"alert","alert-warning"],[1,"table","table-hover"],[4,"ngFor","ngForOf"],[3,"src","alt"],[3,"routerLink"]],template:function(n,a){if(n&1&&u(0,de,2,0,"div",1)(1,ge,19,1,"ng-template",null,0,O),n&2){let T=F(2);c("ngIf",a.countries===void 0||a.countries.length===0)("ngIfElse",T)}},dependencies:[I,h,ne,N],styles:["img[_ngcontent-%COMP%]{width:50px}"]});let t=e;return t})();function ye(t,e){t&1&&m(0,"shared-loading-spinner")}var ae=(()=>{let e=class e{constructor(i){this.countriesService=i,this.countries=[],this.isLoading=!1,this.term=""}ngOnInit(){this.term=this.countriesService.catchStore.byCapital.term,this.countries=this.countriesService.catchStore.byCapital.countries}searchByCapital(i){this.isLoading=!0,this.countriesService.searchCapital(i).subscribe(n=>{this.countries=n,this.isLoading=!1})}};e.\u0275fac=function(n){return new(n||e)(f(y))},e.\u0275cmp=d({type:e,selectors:[["countries-by-capital-page"]],decls:11,vars:3,consts:[[1,"row"],[1,"col"],["placeHolder","Buscar por capital",3,"outPutText","term"],[4,"ngIf"],[3,"countries"]],template:function(n,a){n&1&&(r(0,"h2"),s(1,"Por Capital"),o(),m(2,"hr"),r(3,"div",0)(4,"div",1)(5,"shared-input-text-custom",2),b("outPutText",function($){return a.searchByCapital($)}),o()()(),m(6,"hr"),r(7,"div",0)(8,"div",1),u(9,ye,1,0,"shared-loading-spinner",3),m(10,"countries-country-table",4),o()()),n&2&&(l(5),c("term",a.term),l(4),c("ngIf",a.isLoading),l(),c("countries",a.countries))},dependencies:[h,j,_,E]});let t=e;return t})();function ve(t,e){t&1&&m(0,"shared-loading-spinner")}var se=(()=>{let e=class e{constructor(i){this.countriesService=i,this.isLoading=!1,this.countries=[],this.term=""}ngOnInit(){this.countries=this.countriesService.catchStore.byCountries.countries,this.term=this.countriesService.catchStore.byCountries.term}searchByCountry(i){this.isLoading=!0,this.countriesService.searchCountry(i).subscribe(n=>{this.countries=n,this.isLoading=!1})}};e.\u0275fac=function(n){return new(n||e)(f(y))},e.\u0275cmp=d({type:e,selectors:[["countries-by-country-page"]],decls:11,vars:3,consts:[[1,"row"],[1,"col"],["placeHolder","Buscar por capital",3,"outPutText","term"],[4,"ngIf"],[3,"countries"]],template:function(n,a){n&1&&(r(0,"h2"),s(1,"Por Pais"),o(),m(2,"hr"),r(3,"div",0)(4,"div",1)(5,"shared-input-text-custom",2),b("outPutText",function($){return a.searchByCountry($)}),o()()(),m(6,"hr"),r(7,"div",0)(8,"div",1),u(9,ve,1,0,"shared-loading-spinner",3),m(10,"countries-country-table",4),o()()),n&2&&(l(5),c("term",a.term),l(4),c("ngIf",a.isLoading),l(),c("countries",a.countries))},dependencies:[h,j,_,E]});let t=e;return t})();var Ce=t=>({"btn-outline-primary":t});function Se(t,e){if(t&1){let p=W();r(0,"button",6),b("click",function(){let n=K(p).$implicit,a=C();return Q(a.searchByRegion(n))}),s(1),o()}if(t&2){let p=e.$implicit,i=C();c("ngClass",L(2,Ce,i.selectedRegion==p)),l(),g(" ",p," ")}}function xe(t,e){t&1&&m(0,"shared-loading-spinner")}var le=(()=>{let e=class e{constructor(i){this.countriesService=i,this.regions=["Africa","Americas","Asia","Europe","Oceania"],this.isLoading=!1,this.countries=[]}ngOnInit(){this.selectedRegion=this.countriesService.catchStore.byRegion.term,this.countries=this.countriesService.catchStore.byRegion.countries}searchByRegion(i){this.isLoading=!0,this.selectedRegion=i,this.countriesService.searchRegion(i).subscribe(n=>{this.countries=n,this.isLoading=!1})}};e.\u0275fac=function(n){return new(n||e)(f(y))},e.\u0275cmp=d({type:e,selectors:[["countries-by-region-page"]],decls:11,vars:3,consts:[[1,"row"],[1,"col","text-center"],["class","btn mx-2",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"col"],[4,"ngIf"],[3,"countries"],[1,"btn","mx-2",3,"click","ngClass"]],template:function(n,a){n&1&&(r(0,"h2"),s(1,"Por Region"),o(),m(2,"hr"),r(3,"div",0)(4,"div",1),u(5,Se,2,4,"button",2),o()(),m(6,"hr"),r(7,"div",0)(8,"div",3),u(9,xe,1,0,"shared-loading-spinner",4),m(10,"countries-country-table",5),o()()),n&2&&(l(5),c("ngForOf",a.regions),l(4),c("ngIf",a.isLoading),l(),c("countries",a.countries))},dependencies:[X,I,h,_,E]});let t=e;return t})();function be(t,e){t&1&&(r(0,"div",10),s(1," Espere porfavor "),o())}function Ie(t,e){if(t&1&&(r(0,"div")(1,"div",2)(2,"div",11)(3,"h2"),s(4,"Pais: "),r(5,"strong"),s(6),o()(),m(7,"hr"),o()()()),t&2){let p=C();l(6),S(p.country.name.common)}}function _e(t,e){if(t&1&&(r(0,"div",12)(1,"span",13),s(2),o()()),t&2){let p=e.$implicit;l(2),S(p)}}var ce=(()=>{let e=class e{constructor(i,n,a){this.activatedRoute=i,this.countriesService=n,this.router=a}ngOnInit(){this.activatedRoute.params.pipe(z(({id:i})=>this.countriesService.searchCountryAlphaCode(i))).subscribe(i=>{i||this.router.navigateByUrl("/countries/by-capital"),this.country=i})}};e.\u0275fac=function(n){return new(n||e)(f(te),f(y),f(ie))},e.\u0275cmp=d({type:e,selectors:[["app-country-page"]],decls:34,vars:11,consts:[["loading",""],[4,"ngIf","ngIfElse"],[1,"row"],[1,"col-4"],[1,"img-thumbnail",3,"src","alt"],[1,"col"],[1,"list-group"],[1,"list-group-item"],[1,"row","mt-2"],["class","d-flex flex-wrap",4,"ngFor","ngForOf"],[1,"alert","alert-info","text-center"],[1,"col-12"],[1,"d-flex","flex-wrap"],[1,"badge","bg-primary","m-1"]],template:function(n,a){if(n&1&&(u(0,be,2,0,"ng-template",null,0,O)(2,Ie,8,1,"div",1),r(3,"div",2)(4,"div",3)(5,"h3"),s(6,"Bandera"),o(),m(7,"img",4),o(),r(8,"div",5)(9,"h3"),s(10,"Detalles"),o(),r(11,"ul",6)(12,"li",7)(13,"strong"),s(14,"Poblacion:"),o(),s(15),w(16,"number"),o(),r(17,"li",7)(18,"strong"),s(19,"Codigo:"),o(),s(20),o(),r(21,"li",7)(22,"strong"),s(23,"Regioon:"),o(),s(24),o(),r(25,"li",7)(26,"strong"),s(27,"Capital:"),o(),s(28),o()()()(),r(29,"div",8)(30,"div",5)(31,"h3"),s(32,"Continenetes"),o(),u(33,_e,3,1,"div",9),o()()),n&2){let T=F(1);l(2),c("ngIf",a.country)("ngIfElse",T),l(5),c("src",a.country==null||a.country.flags==null?null:a.country.flags.svg,B)("alt",a.country==null||a.country.flags==null?null:a.country.flags.alt),l(8),g(" ",M(16,9,a.country==null?null:a.country.population)," "),l(5),g(" ",a.country==null?null:a.country.cca3," "),l(4),g(" ",a.country==null?null:a.country.region," "),l(4),g(" ",a.country==null?null:a.country.capital," "),l(5),c("ngForOf",a.country==null?null:a.country.continents)}},dependencies:[I,h,N]});let t=e;return t})();var Ee=[{path:"by-capital",component:ae},{path:"by-country",component:se},{path:"by-region",component:le},{path:"by/:id",component:ce}],me=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=R({type:e}),e.\u0275inj=P({imports:[q.forChild(Ee),q]});let t=e;return t})();var et=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=R({type:e}),e.\u0275inj=P({providers:[y],imports:[Y,ee,me,oe]});let t=e;return t})();export{et as CountriesModule};
